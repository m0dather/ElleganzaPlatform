@{
    // Use ViewContext.RouteData for more reliable menu highlighting
    var actionName = ViewContext.RouteData.Values["action"]?.ToString() ?? "";
    var isDashboard = actionName.Equals("Index", StringComparison.OrdinalIgnoreCase);
    var isOrders = actionName.Equals("Orders", StringComparison.OrdinalIgnoreCase) || 
                   actionName.Equals("OrderDetails", StringComparison.OrdinalIgnoreCase);
    var isAddresses = actionName.Equals("Addresses", StringComparison.OrdinalIgnoreCase);
    var isEditProfile = actionName.Equals("EditProfile", StringComparison.OrdinalIgnoreCase);
    var isWishlist = actionName.Equals("Wishlist", StringComparison.OrdinalIgnoreCase);
}

<div class="wrap-sidebar-account">
    <ul class="my-account-nav">
        <li>
            @if (isDashboard)
            {
                <span class="my-account-nav-item active">Dashboard</span>
            }
            else
            {
                <a href="@Url.Action("Index", "Account", new { area = "Customer" })" class="my-account-nav-item">Dashboard</a>
            }
        </li>
        <li>
            @if (isOrders)
            {
                <span class="my-account-nav-item active">Orders</span>
            }
            else
            {
                <a href="@Url.Action("Orders", "Account", new { area = "Customer" })" class="my-account-nav-item">Orders</a>
            }
        </li>
        <li>
            @if (isAddresses)
            {
                <span class="my-account-nav-item active">Address</span>
            }
            else
            {
                <a href="@Url.Action("Addresses", "Account", new { area = "Customer" })" class="my-account-nav-item">Address</a>
            }
        </li>
        <li>
            @if (isEditProfile)
            {
                <span class="my-account-nav-item active">Account Details</span>
            }
            else
            {
                <a href="@Url.Action("EditProfile", "Account", new { area = "Customer" })" class="my-account-nav-item">Account Details</a>
            }
        </li>
        <li>
            @if (isWishlist)
            {
                <span class="my-account-nav-item active">Wishlist</span>
            }
            else
            {
                <a href="@Url.Action("Wishlist", "Account", new { area = "Customer" })" class="my-account-nav-item">Wishlist</a>
            }
        </li>
        <li>
            <form method="post" action="/logout" class="d-inline">
                @Html.AntiForgeryToken()
                <button type="submit" class="my-account-nav-item">Logout</button>
            </form>
        </li>
    </ul>
</div>
